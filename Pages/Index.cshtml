@page "/"
@inject AppState state

<NavMenu Fetch=state.FetchPosts />

<Count Posts=state.Posts />

<PostList Posts=state.Posts  />

@functions{
    protected override async Task OnInitAsync() 
    {
        state.OnChange += StateHasChanged;
        await state.FetchPosts(Gallery.Art);
    }
}
