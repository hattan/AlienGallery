@page "/"
@inject AppState state

<NavMenu Fetch=state.FetchPosts />

<Count Posts=state.Posts />

<input type="text"  bind="@state.Limit" onchange="@Foo" />
<PostList Posts=state.Posts  />

@functions{
    protected override async Task OnInitAsync() 
    {
        state.OnChange += StateHasChanged;
        await state.FetchPosts(Gallery.Art);
    }

    public void Foo()
    {
        Console.WriteLine(state.Limit);
    }
}
